前言----------------------------------------
早八上完了，来看看今天要学的：
MySQL剩下的事务，把前俩天的内容复习一下，做做总结。
开始JDBC，有时间的话把研究一下ai提示词

----------------------------------------

日程----------------------------------------
早11点多，把事务看完了。
偷了一会小懒，现在2：30了，把blog写一下
3：25看得差不多了，现在开始学JDBC
因为jar包管理要用到Maven，所以先学Maven
----------------------------------------

学习内容----------------------------------------
省流：1.事务
    2.MySql的小结

1.事务
将一群操作视为一个整体，要么同时成功，要么同时失败。
四大特性：原子性：不可分割。
        一致性：完成时，所有数据必须保持一致。
        隔离性：不受其他并发操作的影响。（和隔离等级挂钩）
        持久性：提交或回滚对数据的改变永久
事务操作：
查看/设置事务提交方式
select @@autocommit;
set @@autocommit = 0;

提交/回滚事务
commit;
roolback;

手动开启事务
start transaction;

flowchart TD
    A[开始事务] --> B[操作1]
    B --> C[操作2]
    C --> D[操作3]
    D --> E[操作4]
    E --> F[操作5]
    F --> G{所有操作完成?}
    G -->|是| H[提交事务]
    G -->|否| I[回滚事务]
    H --> J[事务成功]
    I --> K[事务失败]

并发事务问题：
脏读：
graph TD
    A[事务1: 读取数据] -->|数据未提交| B[事务2: 并发修改数据]
    B --> C[事务1: 再次读取数据<br>发现数据已变]

不可重复读：
graph TD
    A[事务1: 读取数据] --> B[事务2: 并发修改数据]
    B --> C[事务1: 再次读取数据<br>发现数据已变]

幻读：
graph TD
    A[事务1: 查询数据] -->|未找到数据| B[事务2: 插入数据a]
    B --> C[事务1: 插入数据a,发现数据已存在,但无法找到]

事务隔离级别：
！高隔离性的代价是性能
| 隔离级别                | 脏读 | 不可重复读 | 幻读 |
|-------------------------|------|------------|------|
| Read uncommitted        | √    | √          | √    |
| Read committed          | ×    | √          | √    |
| Repeatable Read(MySQl默认)   | ×    | ×          | √    |
| Serializable(串行化)            | ×    | ×          | ×    |

查看事务隔离级别
select @@transaction_isolation;
设置事务隔离级别
set 【session|global】transaction isolation level {隔离级别};

2.MySql的小结
重点：DAY1：MySql的启动；数据库的show，use，select，create，drop；表的结构查询desc，创建表，add，change字段；
DAY2：DML对表的插入，修改，删除；DQL，条件查询，聚合函数，通过子查询进行嵌套查询（very important），分组，排序，语句的执行顺序;给字段添加约束，特别是怎么添加外键约束，设置更新/删除行为；多表关系；查询多表的内连接，左连接，右连接方式；子查询；

----------------------------------------

结语----------------------------------------

---------------------------------------